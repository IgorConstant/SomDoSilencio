<section id="dashboardPage">
    <app-navbar-dashboard></app-navbar-dashboard>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3 col-lg-2 p-0">
                <app-sidebar></app-sidebar>
            </div>
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-4 pb- mb-3 border-bottom">
                    <h1 class="h2">Arquivo</h1>
                </div>
                <div *ngIf="loading" class="mt-4">Carregando imagens...</div>
                <div *ngIf="error" class="alert alert-danger mt-4">{{ error }}</div>
                <div *ngIf="!loading && !error">
                  <div class="row g-4 mt-2">
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3" *ngFor="let story of stories">
                      <div class="card h-100 shadow-sm">
                        <img [src]="story.url" [alt]="story.name" class="card-img-top" style="object-fit:cover; height:320px; background:#eee;">
                        <div class="card-body d-flex flex-column align-items-center justify-content-between">
                          <div class="mb-2 text-truncate w-100" title="{{story.name}}">{{ story.name }}</div>
                          <button class="btn btn-primary btn-sm w-100" (click)="download(story.url, story.name)">
                            Baixar
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="stories.length === 0" class="mt-4">Nenhuma imagem encontrada.</div>
                </div>
            </main>
        </div>
    </div>
</section>